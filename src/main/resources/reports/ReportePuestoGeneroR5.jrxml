<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio version 6.17.0.final using JasperReports Library version 6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd  -->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="ReportePuestoGeneroR5" pageWidth="842" pageHeight="595" orientation="Landscape" columnWidth="802" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="e61ffbd3-4742-445b-b3a3-d4bdaaef03d8">
	<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="DataBaseMayo"/>
	<property name="com.jaspersoft.studio.data.sql.SQLQueryDesigner.sash.w1" value="0"/>
	<property name="com.jaspersoft.studio.data.sql.SQLQueryDesigner.sash.w2" value="1000"/>
	<parameter name="urlImg" class="java.lang.String"/>
	<parameter name="mes" class="java.lang.Integer"/>
	<parameter name="orden" class="java.lang.String"/>
	<queryString language="SQL">
		<![CDATA[SELECT DISTINCT
  MAX(catalogoAreaSuperior.desc_area_superior) AS desc_area_superior,
  MAX (catalogoAreas.desc_area) AS desc_area,
  catalogoPuesto.puesto,
  MAX(catalogoPuesto.nivel) AS nivel,
  COUNT(CASE WHEN catalogoGenero.desc_genero = 'HOMBRE' THEN 1 END) AS conteoHombres,
  COUNT(CASE WHEN catalogoGenero.desc_genero = 'MUJER' THEN 1 END) AS conteoMujeres
FROM
  public.trabajador_plaza trabajadorPlaza
  JOIN trabajador trabajador ON trabajador.id_trabajador = trabajadorPlaza.trabajador_id
  JOIN catalogo_plaza catalogoPlaza ON catalogoPlaza.id_plaza = trabajadorPlaza.plaza_id
  JOIN persona persona ON trabajador.persona_id = persona.id_persona
  JOIN catalogo_tipo_contrato catalogoTipoContrato ON trabajadorPlaza.tipo_contrato_id = catalogoTipoContrato.id_tipo_contrato
  JOIN catalogo_estatus_plaza catalogoEstatusPlaza ON catalogoPlaza.estatus_plaza_id = catalogoEstatusPlaza.id_estatus_plaza
  JOIN catalogo_areas AS catalogoAreas ON trabajadorPlaza.areas_id = catalogoAreas.id_area
  JOIN catalogo_area_superior AS catalogoAreaSuperior ON catalogoAreas.id_area_superior = catalogoAreaSuperior.id_area_superior
  JOIN catalogo_puesto AS catalogoPuesto ON catalogoPlaza.puesto_id = catalogoPuesto.id_puesto
  JOIN catalogo_genero catalogoGenero ON persona.genero_id = catalogoGenero.id_genero
WHERE
  catalogoEstatusPlaza.descripcion = 'Asignado'
GROUP BY
  catalogoPuesto.puesto
  ORDER BY $P!{orden}]]>
	</queryString>
	<field name="desc_area_superior" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="desc_area_superior"/>
		<property name="com.jaspersoft.studio.field.label" value="desc_area_superior"/>
	</field>
	<field name="desc_area" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="desc_area"/>
		<property name="com.jaspersoft.studio.field.label" value="desc_area"/>
	</field>
	<field name="puesto" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="puesto"/>
		<property name="com.jaspersoft.studio.field.label" value="puesto"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="catalogo_puesto"/>
	</field>
	<field name="nivel" class="java.lang.Integer">
		<property name="com.jaspersoft.studio.field.name" value="nivel"/>
		<property name="com.jaspersoft.studio.field.label" value="nivel"/>
	</field>
	<field name="conteohombres" class="java.lang.Long">
		<property name="com.jaspersoft.studio.field.name" value="conteohombres"/>
		<property name="com.jaspersoft.studio.field.label" value="conteohombres"/>
	</field>
	<field name="conteomujeres" class="java.lang.Long">
		<property name="com.jaspersoft.studio.field.name" value="conteomujeres"/>
		<property name="com.jaspersoft.studio.field.label" value="conteomujeres"/>
	</field>
	<variable name="conteoPorPuesto" class="java.lang.Integer" resetType="Group" resetGroup="puesto" calculation="Sum">
		<variableExpression><![CDATA[$F{conteohombres} + $F{conteomujeres}]]></variableExpression>
	</variable>
	<variable name="conteoTotalHombres" class="java.lang.Integer" resetType="Group" resetGroup="area" calculation="Sum">
		<variableExpression><![CDATA[$F{conteohombres}]]></variableExpression>
	</variable>
	<variable name="conteoTotalMujeres" class="java.lang.Integer" resetType="Group" resetGroup="area" calculation="Sum">
		<variableExpression><![CDATA[$F{conteomujeres}]]></variableExpression>
	</variable>
	<variable name="conteoTotalPuesto" class="java.lang.Integer" resetType="Group" resetGroup="area" calculation="Sum">
		<variableExpression><![CDATA[$V{conteoPorPuesto}]]></variableExpression>
	</variable>
	<group name="area">
		<groupExpression><![CDATA[$F{desc_area}]]></groupExpression>
		<groupHeader>
			<band height="50">
				<textField>
					<reportElement x="120" y="0" width="360" height="20" uuid="90b064f0-21ad-40ba-8993-2bf03cce7ce2"/>
					<textElement textAlignment="Left" verticalAlignment="Middle"/>
					<textFieldExpression><![CDATA[$F{desc_area}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement mode="Opaque" x="50" y="20" width="70" height="30" backcolor="#C7C7C7" uuid="c00afbce-0d88-4051-8d7c-289bcdd48fd9">
						<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="4e1c49d7-a016-42e4-ba9d-d15ec8f54a5e"/>
					</reportElement>
					<box>
						<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font isBold="true"/>
					</textElement>
					<text><![CDATA[Nivel]]></text>
				</staticText>
				<staticText>
					<reportElement mode="Opaque" x="120" y="20" width="200" height="30" backcolor="#C7C7C7" uuid="6a3df940-d62b-44ad-b587-710b1b39a5b8">
						<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="16f09110-0ed7-4cd0-a5f2-7cd6815832c4"/>
					</reportElement>
					<box>
						<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font isBold="true"/>
					</textElement>
					<text><![CDATA[Puesto]]></text>
				</staticText>
				<staticText>
					<reportElement mode="Opaque" x="320" y="20" width="143" height="30" backcolor="#C7C7C7" uuid="65a4e10d-2678-40da-b48e-9d43a00c9e25">
						<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="c50a37b2-d3a8-4a54-be2b-39911b9f8aac"/>
					</reportElement>
					<box>
						<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font isBold="true"/>
					</textElement>
					<text><![CDATA[Hombre]]></text>
				</staticText>
				<staticText>
					<reportElement mode="Opaque" x="463" y="20" width="143" height="30" backcolor="#C7C7C7" uuid="3bdba82b-f74e-4227-a2c1-ec056770b291">
						<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="dc222067-8194-48c7-b4c4-ede85a5d36bc"/>
					</reportElement>
					<box>
						<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font isBold="true"/>
					</textElement>
					<text><![CDATA[Mujer]]></text>
				</staticText>
				<staticText>
					<reportElement mode="Opaque" x="606" y="20" width="143" height="30" backcolor="#C7C7C7" uuid="0b398bc8-84a0-4c8e-a768-a0f9f63da877">
						<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="dc222067-8194-48c7-b4c4-ede85a5d36bc"/>
					</reportElement>
					<box>
						<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font isBold="true"/>
					</textElement>
					<text><![CDATA[Total por Puesto]]></text>
				</staticText>
				<staticText>
					<reportElement x="50" y="0" width="70" height="20" uuid="d4a9eb2f-7b4f-4037-a4bc-4a57851c2090"/>
					<textElement textAlignment="Center" verticalAlignment="Middle"/>
					<text><![CDATA[AREA]]></text>
				</staticText>
			</band>
		</groupHeader>
		<groupFooter>
			<band height="20">
				<staticText>
					<reportElement mode="Opaque" x="50" y="0" width="270" height="20" backcolor="#C7C7C7" uuid="967f972e-addb-434a-b5c2-c770b6d004cb"/>
					<box>
						<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font isBold="true"/>
					</textElement>
					<text><![CDATA[Total por Área: ]]></text>
				</staticText>
				<textField>
					<reportElement x="320" y="0" width="143" height="20" uuid="914c2859-8848-44fc-ac15-9d2e7192c4db">
						<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="dc222067-8194-48c7-b4c4-ede85a5d36bc"/>
						<property name="com.jaspersoft.studio.unit.width" value="px"/>
					</reportElement>
					<box>
						<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textFieldExpression><![CDATA[$V{conteoTotalHombres}]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="606" y="0" width="143" height="20" uuid="0787ace6-16d9-4d0f-8d76-5dce27ea1440">
						<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="dc222067-8194-48c7-b4c4-ede85a5d36bc"/>
						<property name="com.jaspersoft.studio.unit.width" value="px"/>
					</reportElement>
					<box>
						<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textFieldExpression><![CDATA[$V{conteoTotalPuesto}]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="463" y="0" width="143" height="20" uuid="9fc7df0c-0aa2-4171-98c7-dfec31d5e1e3">
						<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="dc222067-8194-48c7-b4c4-ede85a5d36bc"/>
						<property name="com.jaspersoft.studio.unit.width" value="px"/>
					</reportElement>
					<box>
						<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textFieldExpression><![CDATA[$V{conteoTotalMujeres}]]></textFieldExpression>
				</textField>
			</band>
		</groupFooter>
	</group>
	<group name="puesto">
		<groupExpression><![CDATA[$F{puesto}]]></groupExpression>
	</group>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="47" splitType="Stretch">
			<image>
				<reportElement x="0" y="0" width="200" height="44" uuid="5a3fed2a-9055-42a9-b62c-28aa2166d9fc"/>
				<imageExpression><![CDATA[$P{urlImg}]]></imageExpression>
			</image>
			<textField>
				<reportElement x="209" y="15" width="384" height="30" uuid="545546a7-633e-4068-9929-659e396112e5"/>
				<textElement textAlignment="Center"/>
				<textFieldExpression><![CDATA["RESUMEN DE TRABAJADORES POR PUESTO Y GENERO AL MES DE: "+ (new java.text.DateFormatSymbols().getMonths()[$P{mes} - 1].toUpperCase()) + " DEL:  " + Calendar.getInstance().get(Calendar.YEAR)]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="600" y="5" width="196" height="30" uuid="b40d326d-323c-4172-b4f4-9cb7e60ac312"/>
				<textElement textAlignment="Right">
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[Servicio de Transportes Eléctricos de la Ciudad de México]]></text>
			</staticText>
			<staticText>
				<reportElement x="650" y="29" width="146" height="12" uuid="060cf602-ec02-48ea-9c29-d0bd03e0635e"/>
				<textElement textAlignment="Right">
					<font size="6"/>
				</textElement>
				<text><![CDATA[Gerencia de Administración de Personal	]]></text>
			</staticText>
			<staticText>
				<reportElement x="650" y="35" width="146" height="12" uuid="dac1d44a-f1f6-40b3-97cf-4fd69480bc5c"/>
				<textElement textAlignment="Right">
					<font size="6"/>
				</textElement>
				<text><![CDATA[Subgerencia de Administración de Personal]]></text>
			</staticText>
		</band>
	</title>
	<detail>
		<band height="20" splitType="Stretch">
			<textField>
				<reportElement x="50" y="0" width="70" height="20" uuid="d1465da9-cd76-4a96-9661-a95d3c57cc96">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="4e1c49d7-a016-42e4-ba9d-d15ec8f54a5e"/>
				</reportElement>
				<box>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textFieldExpression><![CDATA[$F{nivel}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="120" y="0" width="200" height="20" uuid="20e7ed6e-c5ec-4835-a3e0-f0a72b78241f">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="16f09110-0ed7-4cd0-a5f2-7cd6815832c4"/>
				</reportElement>
				<box>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textFieldExpression><![CDATA[$F{puesto}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="320" y="0" width="143" height="20" uuid="0a608822-c3c8-4812-ae54-7de56b757ca0">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="c50a37b2-d3a8-4a54-be2b-39911b9f8aac"/>
				</reportElement>
				<box>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textFieldExpression><![CDATA[$F{conteohombres}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="463" y="0" width="143" height="20" uuid="f3f7f49d-c371-48d1-bb28-a435d9346c73">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="dc222067-8194-48c7-b4c4-ede85a5d36bc"/>
				</reportElement>
				<box>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textFieldExpression><![CDATA[$F{conteomujeres}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="606" y="0" width="143" height="20" uuid="b7a8591a-c8a6-4e30-bb32-3f3587e8aafb">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="dc222067-8194-48c7-b4c4-ede85a5d36bc"/>
				</reportElement>
				<box>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textFieldExpression><![CDATA[$V{conteoPorPuesto}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<pageFooter>
		<band height="30" splitType="Stretch">
			<textField evaluationTime="Report">
				<reportElement x="380" y="0" width="153" height="30" uuid="b6dff27f-1690-4a7d-af2e-1e492d6c5ec6"/>
				<textElement textAlignment="Left"/>
				<textFieldExpression><![CDATA[" de " + $V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="280" y="0" width="100" height="30" uuid="aafdbc99-fad2-4c35-86ef-2a3f9d228eb1"/>
				<textElement textAlignment="Right"/>
				<textFieldExpression><![CDATA["Página " + $V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
		</band>
	</pageFooter>
</jasperReport>
